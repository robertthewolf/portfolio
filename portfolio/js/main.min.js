"use strict";function is_touch_device(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}var main=$("#main"),loadbox=$("#loadbox"),work=$("#work"),morework=$("#morework");if($(document).ready(function(){main.find("section").addClass("closed"),$(".closed").children().addClass("reveal"),$(".closed").find("header").addClass("animated"),morework.hide(),work.find('a[href^="#"]').on("click",function(){morework.show()}),$('a[href^="#"]').on("click",function(){var o=$(this.hash);o.removeClass("closed"),o.children().each(function(o){var t=$(this);setTimeout(function(){t.addClass("animated")},300*o)}),main.append($(".closed")),work.next().is(morework)||work.after(morework),$("html, body").animate({scrollTop:o.offset().top},1e3)}),$(".action").find("a").on("click",function(){var o=$(this).attr("href"),t=$(this).parent().parent(),e=t.find(".greybox"),n=t.find(".action");return loadbox.load(o+" .subpage",function(){var i=$(document).scrollTop();console.log(i),t.css("height",t.height()),t.css("width",t.width()),e.css({height:e.height(),width:e.width()}),n.css("top",n.position().top).css("left",n.position().left),t.addClass("clicked"),$("html, body").animate({scrollTop:$(t).offset().top},1e3,function(){main.children().hide(),loadbox.show().css("visibility","visible"),$("html, body").scrollTop(0),t.removeClass("clicked"),window.history.pushState("","",o),$(".back").on("click",function(){var o=$(this).attr("href");return main.children().show(),$(window).scrollTop(i),loadbox.css("top",i).animate({marginLeft:"100vw"},500,"swing",function(){loadbox.css({top:0,"margin-left":0}).hide().empty()}),window.history.pushState("","",o),!1})})}),!1})}),!is_touch_device()){var centerX,centerY;$(document).on("scroll",function(o){centerX=$(window).width()/2,centerY=$(window).scrollTop()+$(window).height()/2}),$(document).on("mousemove",function(o){var t=o.originalEvent.pageX,e=o.originalEvent.pageY,n=t-centerX,i=e-centerY;$(".mouseFollow").each(function(){$(this).css("transform","translate("+-.01*n+"px, "+.01*i+"px)")}),$(".mouseOppose").each(function(){$(this).css("transform","translate("+.015*n+"px, "+.015*i+"px)")}),$(".mouseGrow").each(function(){var o=$(window).height(),t=1.05-(e-centerY)/o/5;$(this).css("transform","translateX(-50%) scale("+t+")")})})}